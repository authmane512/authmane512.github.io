(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(35)},24:function(e,t,a){},26:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(12),s=a.n(c),r=(a(24),a(15)),l=a(11),o=a(4),u=a(5),d=a(8),m=a(6),p=a(7),h=a(3),f=(a(26),a(28),a(10)),b=(a(14),[{Header:"Type",accessor:"type"},{Header:"Diet",accessor:"diet"},{Header:"Feature",accessor:"feature"},{Header:"Amount",accessor:"amount"}]),g=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(f.a,{className:"GlobalList",data:this.props.data,columns:b,defaultPageSize:10,minRows:5,getTdProps:function(t,a,n,i){return{onClick:function(t,n){var i=e.props.data[a.index].type;e.props.onTypeClick(i),n&&n()}}}})}}]),t}(n.Component),y=a(16),v=a.n(y),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={search:"",results:[]},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.getResult=a.getResult.bind(Object(h.a)(Object(h.a)(a))),a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({search:e.target.value})}},{key:"getResult",value:function(e){var t=this;e.preventDefault(),v.a.ajax({url:"https://api.gbif.org/v1/species/search",method:"GET",dataType:"JSONP",data:{q:this.state.search},success:function(e){var a=e.results.filter(function(e){return e.hasOwnProperty("canonicalName")&&!e.canonicalName.includes(".")});a=a.map(function(e){return{id:e.key,name:e.canonicalName}}),console.log("results",a),t.setState({results:a})}})}},{key:"handleClick",value:function(e){console.log("e.target",e.target),this.props.addType(e.target.name)}},{key:"render",value:function(){var e=this,t=this.state.results.map(function(t){return i.a.createElement("li",{className:"list-group-item",key:t.id},i.a.createElement("span",null,t.name),i.a.createElement("button",{type:"button",name:t.name,className:"btn btn-info btn-sm float-right",onClick:e.handleClick},"add"))});return i.a.createElement("div",{className:"ml-3"},i.a.createElement("form",{className:"form-inline mt-3"},i.a.createElement("input",{type:"search",value:this.state.search,className:"form-control",placeholder:"Search species",onChange:this.handleChange}),i.a.createElement("button",{className:"btn btn-primary ml-3",onClick:this.getResult},"search")),i.a.createElement("ul",{className:"list-group mt-3"},t))}}]),t}(n.Component),j=a(17),k=(a(33),[{Header:"Name",accessor:"name"},{Header:"Age",accessor:"age",Cell:function(e){return"".concat(e.value," ").concat(e.value>1?"years":"year")}}]),C=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){var t=this;Object(j.confirmAlert)({title:"Confirm to remove",message:"Are you sure to remove this individual?",buttons:[{label:"Yes",onClick:function(){t.props.removeIndividual(e)}},{label:"No"}]})}},{key:"render",value:function(){var e=this;return console.log("state",this.props.data),i.a.createElement(f.a,{className:"SpecificList",data:this.props.data,columns:k,defaultPageSize:10,minRows:5,getTdProps:function(t,a,n,i){return{onClick:function(t,n){var i=e.props.data[a.index].name;e.handleClick(i),n&&n()}}}})}}]),t}(n.Component),E=a(9),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={addingShowed:!1,name:"",age:1},a.handleInputChange=a.handleInputChange.bind(Object(h.a)(Object(h.a)(a))),a.add=a.add.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"add",value:function(e){e.preventDefault();var t=this.state;this.props.addIndividual(this.props.selectedType,t.name,t.age),this.setState({addingShowed:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ml-3"},this.props.selectedType?i.a.createElement("div",{className:"mt-3 btn-group"},i.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},this.props.selectedType),i.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.setState({addingShowed:!0})}},"Add individual")):null,this.state.addingShowed?i.a.createElement("form",{onSubmit:this.add,className:"mt-3"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,className:"form-control",id:"name"})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"name"},"Age"),i.a.createElement("input",{type:"number",name:"age",value:this.state.age,onChange:this.handleInputChange,className:"form-control",id:"age"})),i.a.createElement("input",{type:"submit",value:"add",className:"btn btn-primary"})):null)}}]),t}(n.Component),w=[{type:"dog",diet:"bones",cry:"Waf waf!",feature:"bite"},{type:"cat",diet:"fish",cry:"Miaou!",feature:"purr"},{type:"fish",diet:"other fishes",cry:"Bloop!",feature:"swim"},{type:"fowl",diet:"seeds",cry:"Cocorico!",feature:"fly"},{type:"geek",diet:"pizza",cry:"Lol!",feature:"hack"}],T=[{type:"dog",name:"Rex",age:5},{type:"dog",name:"Turbo",age:1},{type:"cat",name:"Nyan Cat",age:20},{type:"cat",name:"Booby",age:3},{type:"cat",name:"Nini",age:4},{type:"fish",name:"Mouka",age:2},{type:"fish",name:"Purple",age:.4},{type:"fowl",name:"Flitter",age:7},{type:"fowl",name:"Zua",age:4},{type:"geek",name:"Jean Dupont",age:48},{type:"geek",name:"John Smith",age:34},{type:"geek",name:"Foo Bar",age:65}],S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={selectedType:null,globalList:w,specificList:T},a.addType=a.addType.bind(Object(h.a)(Object(h.a)(a))),a.addIndividual=a.addIndividual.bind(Object(h.a)(Object(h.a)(a))),a.removeIndividual=a.removeIndividual.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addType",value:function(e){this.setState(function(t){return{globalList:Object(l.a)(t.globalList).concat([{type:e}])}})}},{key:"addIndividual",value:function(e,t,a){console.log("type",e),console.log("new state",{specificList:Object(l.a)(this.state.specificList).concat([{type:e,name:t,age:a}])}),this.setState(function(n){return{specificList:Object(l.a)(n.specificList).concat([{type:e,name:t,age:a}])}})}},{key:"removeIndividual",value:function(e){this.setState(function(t){return{specificList:t.specificList.filter(function(t){return t.name!==e})}})}},{key:"render",value:function(){var e=this,t=this.state.specificList.filter(function(t){return t.type===e.state.selectedType});console.log("new_data",t);var a=this.state.globalList.map(function(t){return Object(r.a)({},t,{amount:e.state.specificList.filter(function(e){return e.type===t.type}).length})});return console.log("globalListData",a),i.a.createElement("div",{className:"App container-fluid"},i.a.createElement("div",{className:"row mt-3"},i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(g,{data:a,onTypeClick:function(t){e.setState({selectedType:t})}}),i.a.createElement(O,{addType:this.addType})),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement(C,{data:t,removeIndividual:this.removeIndividual}),i.a.createElement(N,{selectedType:this.state.selectedType,addIndividual:this.addIndividual}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.d801b589.chunk.js.map